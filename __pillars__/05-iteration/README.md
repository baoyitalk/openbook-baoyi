# 迭代支柱 - 版本管理

> **职责**: 版本迭代记录、开发日志、需求管理  
> **更新时间**: 2025-12-16

---

## 📋 支柱职责

### 核心职责
1. **版本管理** - 记录每个版本的开发过程
2. **需求管理** - 管理版本需求和功能规划
3. **开发日志** - 记录每日开发进度和问题
4. **历史快照** - 保存版本历史记录

---

## 🗂️ 目录结构

```
05-iteration/
├── README.md                    ← 本文件
├── CURRENT_VERSION.md           ← 当前版本状态（AI 必读）
│
├── v1.0.0/                      ← 版本目录（扁平化）
│   ├── README.md                ← 版本概览
│   ├── v1.0.0_REQUIREMENTS.md   ← 需求文档（必需）
│   ├── v1.0.0_2025-12-16.md     ← 迭代日志
│   ├── DEPLOYMENT_CHECKLIST.md  ← 部署清单
│   └── RELEASE_NOTES.md         ← 发布说明
│
└── archive/                     ← 过程文档归档
```

---

## 📚 版本目录说明

### 必需文档
- **README.md** - 版本概览，索引所有文档
- **v{X.X.X}_REQUIREMENTS.md** - 需求文档（根文档）
- **v{X.X.X}_YYYY-MM-DD.md** - 迭代日志

### 可选文档
- **DEPLOYMENT_CHECKLIST.md** - 部署检查清单
- **RELEASE_NOTES.md** - 发布说明
- **技术方案文档** - 根据需要创建
- **测试报告** - 根据需要创建

---

## 🔄 工作流程

### 1. 开发中
- 所有文档集中在版本目录
- 扁平化结构，方便查找
- 每日更新迭代日志

### 2. 打 tag 后
- 提取内容 → 复制到三大支柱基线
- 版本目录保留完整快照
- 标记为只读历史记录

---

## 📝 迭代日志规范

### 日志格式
```markdown
# v{X.X.X} 迭代日志 - YYYY-MM-DD

## 今日目标
- [ ] 目标1
- [ ] 目标2

## 完成工作
- ✅ 完成的工作1
- ✅ 完成的工作2

## 遇到问题
- 问题描述
- 解决方案

## 明日计划
- [ ] 计划1
- [ ] 计划2

## 备注
其他需要记录的信息
```

---

## 📋 版本发布流程

### 1. 准备阶段
- 创建版本目录
- 创建需求文档
- 更新 CURRENT_VERSION.md

### 2. 开发阶段
- 按需求开发功能
- 每日更新迭代日志
- 记录技术决策

### 3. 发布前检查
- 完成所有功能
- 通过测试验证
- 更新发布说明

### 4. 打 tag
- 获得授权
- 打 Git tag
- 推送到远程

### 5. 文档归档
- 复制到三大支柱基线
- 标记版本目录为只读
- 更新 CURRENT_VERSION.md

---

## 📝 最佳实践

### DO ✅
1. ✅ 每日更新迭代日志
2. ✅ 需求文档是根文档，其他文档都应关联
3. ✅ 保持版本目录扁平化
4. ✅ 打 tag 前完成所有文档
5. ✅ 版本目录打 tag 后变为只读

### DON'T ❌
1. ❌ 不要在已归档的版本目录中修改文档
2. ❌ 不要跳过需求文档
3. ❌ 不要忘记更新 CURRENT_VERSION.md
4. ❌ 不要在未授权的情况下打 tag
5. ❌ 不要忘记归档文档到三大支柱

---

## 🔗 相关文档

- [产品支柱](../01-product/README.md) - 内容规划
- [架构支柱](../02-architecture/README.md) - 技术架构
- [运维支柱](../04-operations/README.md) - 部署运维
