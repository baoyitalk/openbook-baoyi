# v1.0.0 技术决策记录

> **版本**: v1.0.0  
> **创建时间**: 2025-12-17  
> **文档类型**: 技术决策

---

## 📋 决策总览

本文档记录 v1.0.0 版本开发过程中的重要技术决策。

---

## 🎯 核心决策

### 决策 #1: 项目框架选择

**日期**: 2025-12-16  
**决策**: 使用 Docusaurus v3.9.2 作为电子书项目框架

**背景**:
- 需要一个成熟的文档/电子书解决方案
- 需要支持博客功能
- 需要良好的 SEO 支持
- 需要响应式设计

**考虑的方案**:
1. **Docusaurus** ✅ 选择
   - 优点：专为文档设计、React 生态、SEO 友好、活跃维护
   - 缺点：相对重量级
2. **VuePress**
   - 优点：轻量、Vue 生态
   - 缺点：社区相对较小
3. **GitBook**
   - 优点：简单易用
   - 缺点：商业化、定制性差

**决策理由**:
- Docusaurus 是 Meta 维护的成熟项目
- 完善的文档和博客系统
- 强大的插件生态
- 优秀的性能和 SEO

**影响范围**:
- 技术栈：React 18.3.1
- 构建工具：Webpack（内置）
- 部署方式：静态站点

---

### 决策 #2: 支柱体系精简

**日期**: 2025-12-16  
**决策**: 采用四支柱体系，不包含测试支柱

**背景**:
- 电子书项目主要是内容管理
- 不涉及复杂的业务逻辑
- 不需要传统软件项目的测试体系

**支柱设计**:
1. **01-product（产品支柱）** - 内容规划、章节结构
2. **02-architecture（架构支柱）** - 技术配置、插件管理
3. **04-operations（运维支柱）** - 部署流程、发布管理
4. **05-iteration（迭代支柱）** - 版本管理、开发日志

**不包含**:
- ~~03-testing（测试支柱）~~ - 电子书项目不需要复杂测试

**决策理由**:
- 电子书项目主要是静态内容
- 内容质量通过人工审核
- 技术层面由 Docusaurus 保证
- 避免过度设计

**影响范围**:
- 文档结构更简洁
- 维护成本更低
- 聚焦内容质量

---

### 决策 #3: 开发端口配置

**日期**: 2025-12-16  
**决策**: 使用 3005 端口而非默认的 3000 端口

**背景**:
- Docusaurus 默认使用 3000 端口
- 可能与其他项目冲突

**配置**:
```json
{
  "scripts": {
    "start": "docusaurus start --port 3005",
    "serve": "docusaurus serve --port 3005"
  }
}
```

**决策理由**:
- 避免端口冲突
- 便于同时运行多个项目

**影响范围**:
- 开发环境访问地址：http://localhost:3005
- 文档中需要说明端口

---

### 决策 #4: Git 分支策略

**日期**: 2025-12-16  
**决策**: 采用 main + dev-vX.X.X 分支模型

**分支设计**:
- **main** - 生产分支，只接受 tag 合并
- **dev-v1.0.0** - 开发分支，日常开发

**工作流程**:
1. 基于 main 创建 dev-vX.X.X
2. 在开发分支上进行所有开发
3. 完成后打 tag
4. 合并到 main（需授权）

**决策理由**:
- 保持 main 分支稳定
- 开发分支隔离
- 版本管理清晰

**影响范围**:
- 所有开发必须在开发分支
- 未经允许不得合并到 main

---

## 📝 配置决策

### 中文化配置

**决策**: 默认使用中文界面

**配置**:
```javascript
// docusaurus.config.js
i18n: {
  defaultLocale: 'zh-Hans',
  locales: ['zh-Hans'],
}
```

**理由**: 目标用户主要是中文用户

---

### 主题配置

**决策**: 支持深色模式，默认浅色

**配置**:
```javascript
colorMode: {
  defaultMode: 'light',
  disableSwitch: false,
  respectPrefersColorScheme: true,
}
```

**理由**: 提供更好的阅读体验

---

## 🔗 相关文档

- [需求文档](./v1.0.0_REQUIREMENTS.md)
- [版本概览](./README.md)
- [架构支柱](../../02-architecture/README.md)
