# 原始数据类型和引用数据类型的区别

JavaScript 的数据类型设计，本质上是在回答一个问题：**数据在内存中怎么存储和访问？**

## 一、最底层的划分：两种存储方式
```text
┌─────────────────────────────────────────────────────┐
│                     内存                             │
├────────────────────┬────────────────────────────────┤
│       栈 Stack     │          堆 Heap               │
│    (小、快、固定)   │      (大、灵活、动态)           │
├────────────────────┼────────────────────────────────┤
│   原始类型的值      │      引用类型的实际数据          │
│   引用类型的地址    │                                │
└────────────────────┴────────────────────────────────┘
```

## 案例1 打印结果是多少
```js
// 原始数据类型与引用数据类型

let person = {
  name: "John",
  age: 25
}

function increaseAge(obj) {
  obj.age += 1;
  obj = {name: "Jame", age: 22};
  console.log(obj); // 1
}

increaseAge(person);
console.log(person); // 2
```

### 拆解案例1 

#### 传参/赋值

![alt text](images/image-6.png)

实际对象只有一个存储在堆内存，person和obj指向同一个对象

栈内存里面存了 person变量 和 obj变量他们都保存了地址

函数传参 = 赋值 = 复制地址值 != 拷贝对象

![alt text](images/image-5.png)

#### 执行obj.age += 1

对象的地址没有变，对象的属性变成26了

![alt text](images/image-7.png)

#### 执行obj赋值对象操作

`obj = { name: "Jame", age: 22 }`

**关键点**：这里是给 `obj` **重新赋值**，让它指向一个**新对象**！

注意 const声明的值不会变不会指向新对象

![alt text](images/image-8.png)

现在 obj 和 person指向不同的对象了

#### 拆解打印结果
```js
console.log(obj) 
// 输出 { name: "Jame", age: 22 } 
// 因为 obj 现在指向新对象 0x002
```

函数执行完毕

`console.log(person)` 输出 `{ name: "John", age: 26 }`

## 误区 栈里面存地址本身吗

栈里存的不是"地址本身"，而是"地址的值"

可以有多个变量存储相同的地址值，就像多个人可以记住同一个门牌号一样。

![alt text](images/image-9.png)