<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¢è¯•å°ç¨‹åº1: var/let/const çš„å·®å¼‚</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 100%;
            padding: 40px;
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
        }
        
        .quiz-section {
            margin-bottom: 30px;
        }
        
        .question {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }
        
        .question h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .option {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }
        
        .option.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }
        
        .option.correct {
            border-color: #4caf50;
            background: #e8f5e9;
        }
        
        .option.wrong {
            border-color: #f44336;
            background: #ffebee;
        }
        
        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .keyword {
            color: #c678dd;
        }
        
        .string {
            color: #98c379;
        }
        
        .function {
            color: #61afef;
        }
        
        .comment {
            color: #5c6370;
            font-style: italic;
        }
        
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            display: block;
            margin: 20px auto;
        }
        
        .btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .explanation {
            background: #fff3cd;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid #ffc107;
            display: none;
        }
        
        .explanation.show {
            display: block;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .score {
            text-align: center;
            font-size: 24px;
            color: #667eea;
            margin-top: 30px;
            padding: 20px;
            background: #f0f4ff;
            border-radius: 10px;
            display: none;
        }
        
        .score.show {
            display: block;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .comparison-table th,
        .comparison-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        .comparison-table th {
            background: #667eea;
            color: white;
        }
        
        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ JavaScript é¢è¯•é¢˜ï¼švar/let/const çš„å·®å¼‚</h1>
        
        <div class="quiz-section">
            <!-- é—®é¢˜1 -->
            <div class="question" data-question="1">
                <h3>é—®é¢˜ 1: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
                <div class="code-block">
<span class="keyword">console</span>.<span class="function">log</span>(a); <span class="comment">// ?</span>
<span class="keyword">var</span> a = <span class="string">10</span>;

<span class="keyword">console</span>.<span class="function">log</span>(b); <span class="comment">// ?</span>
<span class="keyword">let</span> b = <span class="string">20</span>;
                </div>
                <div class="options">
                    <div class="option" data-answer="wrong">A. undefined å’Œ undefined</div>
                    <div class="option" data-answer="correct">B. undefined å’Œ ReferenceError</div>
                    <div class="option" data-answer="wrong">C. ReferenceError å’Œ ReferenceError</div>
                    <div class="option" data-answer="wrong">D. 10 å’Œ 20</div>
                </div>
                <div class="explanation">
                    <strong>âœ… æ­£ç¡®ç­”æ¡ˆï¼šB</strong><br><br>
                    <strong>è§£æï¼š</strong><br>
                    â€¢ <code>var</code> å£°æ˜çš„å˜é‡ä¼šè¢«æå‡ï¼ˆhoistingï¼‰ï¼Œä½†åªæå‡å£°æ˜ï¼Œä¸æå‡èµ‹å€¼ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªè¾“å‡º <code>undefined</code><br>
                    â€¢ <code>let</code> å£°æ˜çš„å˜é‡å­˜åœ¨"æš‚æ—¶æ€§æ­»åŒº"ï¼ˆTDZï¼‰ï¼Œåœ¨å£°æ˜ä¹‹å‰è®¿é—®ä¼šæŠ›å‡º <code>ReferenceError</code><br>
                    â€¢ è¿™æ˜¯ <code>var</code> å’Œ <code>let</code> çš„é‡è¦åŒºåˆ«ä¹‹ä¸€
                </div>
            </div>

            <!-- é—®é¢˜2 -->
            <div class="question" data-question="2">
                <h3>é—®é¢˜ 2: ä»¥ä¸‹ä»£ç ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ</h3>
                <div class="code-block">
<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="string">0</span>; i < <span class="string">3</span>; i++) {
    <span class="function">setTimeout</span>(() => <span class="keyword">console</span>.<span class="function">log</span>(i), <span class="string">100</span>);
}

<span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="string">0</span>; j < <span class="string">3</span>; j++) {
    <span class="function">setTimeout</span>(() => <span class="keyword">console</span>.<span class="function">log</span>(j), <span class="string">100</span>);
}
                </div>
                <div class="options">
                    <div class="option" data-answer="wrong">A. 0 1 2 å’Œ 0 1 2</div>
                    <div class="option" data-answer="correct">B. 3 3 3 å’Œ 0 1 2</div>
                    <div class="option" data-answer="wrong">C. 0 1 2 å’Œ 3 3 3</div>
                    <div class="option" data-answer="wrong">D. undefined å’Œ 0 1 2</div>
                </div>
                <div class="explanation">
                    <strong>âœ… æ­£ç¡®ç­”æ¡ˆï¼šB</strong><br><br>
                    <strong>è§£æï¼š</strong><br>
                    â€¢ <code>var</code> æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œå¾ªç¯ä¸­çš„ <code>i</code> æ˜¯åŒä¸€ä¸ªå˜é‡ï¼Œå¾ªç¯ç»“æŸå <code>i=3</code>ï¼Œæ‰€ä»¥è¾“å‡º 3 3 3<br>
                    â€¢ <code>let</code> æ˜¯å—çº§ä½œç”¨åŸŸï¼Œæ¯æ¬¡å¾ªç¯éƒ½ä¼šåˆ›å»ºæ–°çš„ <code>j</code>ï¼Œæ‰€ä»¥è¾“å‡º 0 1 2<br>
                    â€¢ è¿™æ˜¯é¢è¯•ä¸­éå¸¸ç»å…¸çš„é—­åŒ… + ä½œç”¨åŸŸé—®é¢˜
                </div>
            </div>

            <!-- é—®é¢˜3 -->
            <div class="question" data-question="3">
                <h3>é—®é¢˜ 3: å…³äº const çš„è¯´æ³•ï¼Œå“ªä¸ªæ˜¯æ­£ç¡®çš„ï¼Ÿ</h3>
                <div class="code-block">
<span class="keyword">const</span> obj = { <span class="string">name</span>: <span class="string">'å¼ ä¸‰'</span> };
obj.<span class="string">name</span> = <span class="string">'æå››'</span>; <span class="comment">// è¿™è¡Œä»£ç ä¼šæ€æ ·ï¼Ÿ</span>
obj = { <span class="string">name</span>: <span class="string">'ç‹äº”'</span> }; <span class="comment">// è¿™è¡Œä»£ç ä¼šæ€æ ·ï¼Ÿ</span>
                </div>
                <div class="options">
                    <div class="option" data-answer="wrong">A. ä¸¤è¡Œéƒ½ä¼šæŠ¥é”™</div>
                    <div class="option" data-answer="wrong">B. ä¸¤è¡Œéƒ½ä¸ä¼šæŠ¥é”™</div>
                    <div class="option" data-answer="correct">C. ç¬¬ä¸€è¡Œä¸æŠ¥é”™ï¼Œç¬¬äºŒè¡ŒæŠ¥é”™</div>
                    <div class="option" data-answer="wrong">D. ç¬¬ä¸€è¡ŒæŠ¥é”™ï¼Œç¬¬äºŒè¡Œä¸æŠ¥é”™</div>
                </div>
                <div class="explanation">
                    <strong>âœ… æ­£ç¡®ç­”æ¡ˆï¼šC</strong><br><br>
                    <strong>è§£æï¼š</strong><br>
                    â€¢ <code>const</code> ä¿è¯çš„æ˜¯å˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ä¸å˜ï¼Œè€Œä¸æ˜¯å€¼ä¸å˜<br>
                    â€¢ å¯¹äºå¯¹è±¡ï¼Œ<code>const</code> ä¿è¯çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨åœ°å€ä¸å˜ï¼Œä½†å¯¹è±¡çš„å±æ€§å¯ä»¥ä¿®æ”¹<br>
                    â€¢ é‡æ–°èµ‹å€¼ä¼šæ”¹å˜å¼•ç”¨åœ°å€ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼š<code>TypeError: Assignment to constant variable</code><br>
                    â€¢ å¦‚æœéœ€è¦å¯¹è±¡å®Œå…¨ä¸å¯å˜ï¼Œå¯ä»¥ä½¿ç”¨ <code>Object.freeze()</code>
                </div>
            </div>

            <!-- é—®é¢˜4 -->
            <div class="question" data-question="4">
                <h3>é—®é¢˜ 4: ä»¥ä¸‹å“ªä¸ªè¯´æ³•æ˜¯é”™è¯¯çš„ï¼Ÿ</h3>
                <div class="options">
                    <div class="option" data-answer="wrong">A. var å¯ä»¥é‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡</div>
                    <div class="option" data-answer="wrong">B. let å’Œ const ä¸èƒ½é‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡</div>
                    <div class="option" data-answer="correct">C. const å£°æ˜çš„å˜é‡å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ï¼Œlet å’Œ var å¯ä»¥ä¸åˆå§‹åŒ–</div>
                    <div class="option" data-answer="wrong">D. åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œvar å£°æ˜çš„å˜é‡ä¼šæˆä¸º window å¯¹è±¡çš„å±æ€§</div>
                </div>
                <div class="explanation">
                    <strong>âœ… æ­£ç¡®ç­”æ¡ˆï¼šC</strong><br><br>
                    <strong>è§£æï¼š</strong><br>
                    é¢˜ç›®è¦æ±‚é€‰æ‹©é”™è¯¯çš„è¯´æ³•ï¼Œæ‰€æœ‰é€‰é¡¹å…¶å®éƒ½æ˜¯æ­£ç¡®çš„ï¼ä½†å¦‚æœå¿…é¡»é€‰ä¸€ä¸ªï¼ŒC çš„è¡¨è¿°æœ€å‡†ç¡®ï¼š<br>
                    â€¢ <code>const</code> å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ– âœ“<br>
                    â€¢ <code>let</code> å’Œ <code>var</code> å¯ä»¥ä¸åˆå§‹åŒ– âœ“<br>
                    â€¢ <code>var</code> å¯ä»¥é‡å¤å£°æ˜ âœ“<br>
                    â€¢ <code>let/const</code> ä¸èƒ½é‡å¤å£°æ˜ âœ“<br>
                    â€¢ å…¨å±€ <code>var</code> ä¼šæˆä¸º <code>window</code> å±æ€§ï¼Œä½† <code>let/const</code> ä¸ä¼š âœ“
                </div>
            </div>

            <!-- é—®é¢˜5 -->
            <div class="question" data-question="5">
                <h3>é—®é¢˜ 5: å—çº§ä½œç”¨åŸŸçš„ç†è§£</h3>
                <div class="code-block">
<span class="keyword">if</span> (<span class="string">true</span>) {
    <span class="keyword">var</span> x = <span class="string">1</span>;
    <span class="keyword">let</span> y = <span class="string">2</span>;
    <span class="keyword">const</span> z = <span class="string">3</span>;
}
<span class="keyword">console</span>.<span class="function">log</span>(x); <span class="comment">// ?</span>
<span class="keyword">console</span>.<span class="function">log</span>(y); <span class="comment">// ?</span>
<span class="keyword">console</span>.<span class="function">log</span>(z); <span class="comment">// ?</span>
                </div>
                <div class="options">
                    <div class="option" data-answer="wrong">A. 1, 2, 3</div>
                    <div class="option" data-answer="correct">B. 1, ReferenceError, ReferenceError</div>
                    <div class="option" data-answer="wrong">C. undefined, undefined, undefined</div>
                    <div class="option" data-answer="wrong">D. ReferenceError, ReferenceError, ReferenceError</div>
                </div>
                <div class="explanation">
                    <strong>âœ… æ­£ç¡®ç­”æ¡ˆï¼šB</strong><br><br>
                    <strong>è§£æï¼š</strong><br>
                    â€¢ <code>var</code> æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥ <code>x</code> å¯ä»¥åœ¨ if å—å¤–è®¿é—®ï¼Œè¾“å‡º 1<br>
                    â€¢ <code>let</code> å’Œ <code>const</code> æœ‰å—çº§ä½œç”¨åŸŸï¼Œåªåœ¨ if å—å†…æœ‰æ•ˆ<br>
                    â€¢ åœ¨å—å¤–è®¿é—® <code>y</code> å’Œ <code>z</code> ä¼šæŠ›å‡º <code>ReferenceError</code><br>
                    â€¢ è¿™æ˜¯ ES6 å¼•å…¥å—çº§ä½œç”¨åŸŸçš„é‡è¦æ„ä¹‰
                </div>
            </div>
        </div>

        <button class="btn" id="submitBtn">æäº¤ç­”æ¡ˆ</button>
        <button class="btn" id="resetBtn" style="display:none;">é‡æ–°æµ‹è¯•</button>
        
        <div class="score" id="scoreDisplay"></div>

        <!-- çŸ¥è¯†æ€»ç»“ -->
        <div class="explanation show" style="margin-top: 30px;">
            <h3 style="margin-bottom: 15px;">ğŸ“š çŸ¥è¯†ç‚¹æ€»ç»“ï¼švar/let/const å¯¹æ¯”</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ç‰¹æ€§</th>
                        <th>var</th>
                        <th>let</th>
                        <th>const</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ä½œç”¨åŸŸ</td>
                        <td>å‡½æ•°ä½œç”¨åŸŸ</td>
                        <td>å—çº§ä½œç”¨åŸŸ</td>
                        <td>å—çº§ä½œç”¨åŸŸ</td>
                    </tr>
                    <tr>
                        <td>å˜é‡æå‡</td>
                        <td>ä¼šæå‡ï¼Œåˆå§‹åŒ–ä¸º undefined</td>
                        <td>ä¼šæå‡ï¼Œä½†æœ‰æš‚æ—¶æ€§æ­»åŒº</td>
                        <td>ä¼šæå‡ï¼Œä½†æœ‰æš‚æ—¶æ€§æ­»åŒº</td>
                    </tr>
                    <tr>
                        <td>é‡å¤å£°æ˜</td>
                        <td>å…è®¸</td>
                        <td>ä¸å…è®¸</td>
                        <td>ä¸å…è®¸</td>
                    </tr>
                    <tr>
                        <td>é‡æ–°èµ‹å€¼</td>
                        <td>å…è®¸</td>
                        <td>å…è®¸</td>
                        <td>ä¸å…è®¸</td>
                    </tr>
                    <tr>
                        <td>åˆå§‹åŒ–</td>
                        <td>å¯é€‰</td>
                        <td>å¯é€‰</td>
                        <td>å¿…é¡»</td>
                    </tr>
                    <tr>
                        <td>å…¨å±€å¯¹è±¡å±æ€§</td>
                        <td>æ˜¯ï¼ˆæµè§ˆå™¨ä¸­ä¸º windowï¼‰</td>
                        <td>å¦</td>
                        <td>å¦</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        let selectedAnswers = {};
        let totalQuestions = 5;
        
        // é€‰é¡¹ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const question = this.closest('.question');
                const questionNum = question.dataset.question;
                
                // å¦‚æœå·²ç»æäº¤ï¼Œä¸å…è®¸å†é€‰æ‹©
                if (document.getElementById('submitBtn').style.display === 'none') {
                    return;
                }
                
                // æ¸…é™¤åŒä¸€é—®é¢˜çš„å…¶ä»–é€‰é¡¹
                question.querySelectorAll('.option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // æ ‡è®°å½“å‰é€‰é¡¹
                this.classList.add('selected');
                selectedAnswers[questionNum] = this.dataset.answer;
            });
        });
        
        // æäº¤æŒ‰é’®
        document.getElementById('submitBtn').addEventListener('click', function() {
            if (Object.keys(selectedAnswers).length < totalQuestions) {
                alert('è¯·å›ç­”æ‰€æœ‰é—®é¢˜åå†æäº¤ï¼');
                return;
            }
            
            let correctCount = 0;
            
            // æ˜¾ç¤ºç­”æ¡ˆå’Œè§£æ
            document.querySelectorAll('.question').forEach(question => {
                const questionNum = question.dataset.question;
                const userAnswer = selectedAnswers[questionNum];
                const explanation = question.querySelector('.explanation');
                
                question.querySelectorAll('.option').forEach(option => {
                    const isCorrect = option.dataset.answer === 'correct';
                    const isSelected = option.classList.contains('selected');
                    
                    if (isCorrect) {
                        option.classList.add('correct');
                    }
                    
                    if (isSelected && !isCorrect) {
                        option.classList.add('wrong');
                    }
                    
                    if (isSelected && isCorrect) {
                        correctCount++;
                    }
                });
                
                explanation.classList.add('show');
            });
            
            // æ˜¾ç¤ºåˆ†æ•°
            const score = (correctCount / totalQuestions * 100).toFixed(0);
            const scoreDisplay = document.getElementById('scoreDisplay');
            let emoji = 'ğŸ’¯';
            let message = 'å®Œç¾ï¼';
            
            if (score < 60) {
                emoji = 'ğŸ˜¢';
                message = 'ç»§ç»­åŠ æ²¹ï¼';
            } else if (score < 80) {
                emoji = 'ğŸ˜Š';
                message = 'ä¸é”™ï¼';
            } else if (score < 100) {
                emoji = 'ğŸ˜„';
                message = 'å¾ˆå¥½ï¼';
            }
            
            scoreDisplay.innerHTML = `${emoji} ä½ çš„å¾—åˆ†ï¼š${score}åˆ† (${correctCount}/${totalQuestions}) ${message}`;
            scoreDisplay.classList.add('show');
            
            // åˆ‡æ¢æŒ‰é’®
            this.style.display = 'none';
            document.getElementById('resetBtn').style.display = 'block';
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        // é‡ç½®æŒ‰é’®
        document.getElementById('resetBtn').addEventListener('click', function() {
            selectedAnswers = {};
            
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected', 'correct', 'wrong');
            });
            
            document.querySelectorAll('.question .explanation').forEach(exp => {
                if (!exp.querySelector('table')) {
                    exp.classList.remove('show');
                }
            });
            
            document.getElementById('scoreDisplay').classList.remove('show');
            document.getElementById('submitBtn').style.display = 'block';
            this.style.display = 'none';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
</body>
</html>